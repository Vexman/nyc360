// --- Variables ---
$bg-color: #F5F7FA; // خلفية الصفحة الرمادية الفاتحة جداً
$card-bg: #FFFFFF;
$text-dark: #1A1A1A;
$radius: 16px;       // انحناء الزوايا كما في الصورة
$font-family: 'Inter', sans-serif;

// --- Mixins ---
@mixin card-shadow {
  box-shadow: 0 4px 20px rgba(0,0,0,0.04);
}

.home-container {
  background-color: $bg-color;
  padding: 40px;
  font-family: $font-family;
  min-height: 100vh;
}

.layout-grid {
  display: grid;
  grid-template-columns: 1fr 320px; // تقسيم الصفحة: محتوى + سايدبار ثابت
  gap: 30px;
  max-width: 1400px;
  margin: 0 auto;
}

// =======================
// Main Content Styles
// =======================
.main-content {
  .page-title {
    font-size: 24px;
    font-weight: 800;
    color: $text-dark;
    margin-bottom: 20px;
  }
}

// 1. Top Featured Row (3 Cards)
.featured-row {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin-bottom: 30px;

  .feat-card {
    height: 220px;
    position: relative;
    border-radius: $radius;
    overflow: hidden;
    cursor: pointer;
    @include card-shadow;

    img { width: 100%; height: 100%; object-fit: cover; transition: 0.3s; }
    &:hover img { transform: scale(1.05); }

    .overlay {
      position: absolute; inset: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.85) 10%, transparent 60%);
      padding: 20px;
      display: flex; flex-direction: column; justify-content: flex-end; align-items: flex-start;
      
      .badge-pill {
        background: #Dcedc8; color: #33691e; // Default (Lifestyle green)
        padding: 4px 12px; border-radius: 20px; font-size: 11px; font-weight: 700; margin-bottom: 8px;
        &.cat-5 { background: #F8BBD0; color: #880E4F; } // Events pink
      }

      h3 { color: #fff; font-size: 16px; font-weight: 700; margin: 0 0 4px 0; line-height: 1.3; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
      p { color: #ddd; font-size: 11px; margin: 0; }
    }
  }
}

// 2. Hero Banner (Wide Card)
.hero-section {
  margin-bottom: 40px;

  .hero-card {
    height: 380px;
    width: 100%;
    position: relative;
    border-radius: $radius;
    overflow: hidden;
    cursor: pointer;
    @include card-shadow;

    img { width: 100%; height: 100%; object-fit: cover; }

    .play-icon {
      position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
      width: 70px; height: 70px; background: rgba(255,255,255,0.85);
      border-radius: 50%; display: flex; align-items: center; justify-content: center;
      font-size: 35px; color: #333; backdrop-filter: blur(5px);
      transition: 0.3s;
      &:hover { transform: translate(-50%, -50%) scale(1.1); background: #fff; }
    }

    .hero-overlay {
      position: absolute; bottom: 0; left: 0; width: 100%;
      padding: 30px;
      background: linear-gradient(transparent, rgba(0,0,0,0.8));
      color: #fff;
      h2 { font-size: 28px; font-weight: 800; margin-bottom: 8px; }
      p { font-size: 15px; opacity: 0.9; max-width: 80%; }
    }
  }
}

// 3. Category Grids (Lifestyle, Events)
.category-block {
  margin-bottom: 40px;

  .block-header {
    display: flex; align-items: center; gap: 10px; margin-bottom: 20px;
    .vertical-bar { width: 5px; height: 24px; border-radius: 2px; background: #8BC34A; } // Default Green
    h2 { font-size: 20px; font-weight: 800; color: $text-dark; margin: 0; }
  }

  .posts-grid {
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;
    
    .std-card {
      height: 280px; border-radius: $radius; overflow: hidden; position: relative; cursor: pointer;
      img { width: 100%; height: 100%; object-fit: cover; }
      .bottom-gradient {
        position: absolute; bottom: 0; width: 100%; padding: 15px;
        background: linear-gradient(transparent, rgba(0,0,0,0.9));
        color: #fff;
        h4 { font-size: 14px; font-weight: 700; margin: 0 0 5px 0; }
        small { font-size: 11px; opacity: 0.8; }
      }
    }
  }
}

// =======================
// Sidebar Styles
// =======================
.sidebar {
  display: flex; flex-direction: column; gap: 25px;

  .widget {
    background: $card-bg;
    border-radius: $radius;
    padding: 20px;
    @include card-shadow;
    
    h3 { font-size: 15px; font-weight: 800; margin: 0 0 15px 0; color: $text-dark; }
  }
}

// Weather Specifics
.weather {
  .w-head {
    font-size: 13px; font-weight: 700; color: #555; margin-bottom: 15px;
    i { color: #FBC02D; margin-right: 5px; }
  }
  .w-body {
    display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;
    .temp-box {
      .degree { display: block; font-size: 38px; font-weight: 900; line-height: 1; }
      .desc { font-size: 12px; color: #777; }
    }
    .aqi-box {
      text-align: right; font-size: 12px; font-weight: 700;
      .good { display: block; color: #FBC02D; font-size: 11px; }
    }
  }

  .alert-item {
    display: flex; gap: 10px; padding: 12px; border-radius: 10px; margin-bottom: 10px;
    &:last-child { margin-bottom: 0; }
    
    i { font-size: 16px; margin-top: 2px; }
    .alert-text {
      strong { display: block; font-size: 12px; margin-bottom: 2px; }
      span { font-size: 10px; line-height: 1.3; display: block; opacity: 0.9; }
    }

    &.yellow { background: #FFF9C4; color: #F57F17; }
    &.blue { background: #E3F2FD; color: #1976D2; }
  }
}

// Trending Tags
.tags-container {
  display: flex; flex-wrap: wrap; gap: 8px;
  .tag {
    padding: 6px 12px; border-radius: 20px; font-size: 10px; font-weight: 700;
    &.green { background: #E8F5E9; color: #2E7D32; }
    &.blue { background: #E3F2FD; color: #1565C0; }
    &.pink { background: #FCE4EC; color: #C2185B; }
    &.purple { background: #F3E5F5; color: #7B1FA2; }
    &.cyan { background: #E0F7FA; color: #006064; }
    &.indigo { background: #E8EAF6; color: #283593; }
  }
}

// Communities List
.comm-list {
  .comm-row {
    display: flex; align-items: center; gap: 12px; margin-bottom: 15px;
    &:last-child { margin-bottom: 0; }
    
    .c-avatar {
      width: 36px; height: 36px; background: #FFECB3; color: #FF6F00;
      border-radius: 8px; display: flex; align-items: center; justify-content: center;
      font-weight: 800; font-size: 12px;
    }
    .c-info {
      flex: 1;
      strong { display: block; font-size: 13px; }
      span { font-size: 11px; color: #999; }
    }
    .join-btn {
      width: 28px; height: 28px; border-radius: 50%; border: none; background: #F5F7FA;
      color: #666; cursor: pointer; display: flex; align-items: center; justify-content: center;
      &:hover { background: #ddd; }
    }
  }
}

// Responsive
@media (max-width: 992px) {
  .layout-grid { grid-template-columns: 1fr; }
  .sidebar { display: none; } // Hide sidebar on small screens or move to bottom
  .featured-row { grid-template-columns: repeat(2, 1fr); }
  .category-block .posts-grid { grid-template-columns: repeat(2, 1fr); }
}